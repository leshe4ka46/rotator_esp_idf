{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport axios from 'axios';\nexport default {\n  name: 'RotatorWifi',\n  data: function data() {\n    return {\n      networks: []\n    };\n  },\n  created: function created() {\n    this.startscan();\n  },\n  methods: {\n    prompt: function prompt(network) {\n      var _this = this;\n      if (network.open) {\n        this.$buefy.dialog.confirm({\n          message: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0441\\u0435\\u0442\\u0438 \".concat(network.ssid, \"?\"),\n          cancelText: 'Отмена',\n          confirmText: 'Подключиться',\n          type: 'is-info',\n          size: 'is-small',\n          onConfirm: function onConfirm() {\n            var connection = {\n              ssid: network.ssid,\n              password: ''\n            };\n            _this.saveNetwork(connection);\n          }\n        });\n      } else {\n        this.$buefy.dialog.prompt({\n          message: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043A \\u0441\\u0435\\u0442\\u0438 \".concat(network.ssid, \" <br> \\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\"),\n          type: 'is-info',\n          size: 'is-small',\n          confirmText: 'Подключиться',\n          cancelText: 'Отмена',\n          inputAttrs: {\n            placeholder: ''\n          },\n          trapFocus: true,\n          onConfirm: function onConfirm(password) {\n            // this.$buefy.toast.open(`Вы подключены к сети: ${value}`);\n            var connection = {\n              ssid: network.ssid,\n              password: password\n            };\n            _this.saveNetwork(connection);\n          }\n        });\n      }\n    },\n    saveNetwork: function saveNetwork(connection) {\n      // eslint-disable-next-line\n      console.log(connection);\n      axios.get(\"api/connect?ssid=\".concat(connection.ssid, \"&password=\").concat(connection.password));\n      this.$buefy.toast.open('Ок');\n    },\n    startscan: function startscan() {\n      var _this2 = this;\n      axios.get('api/scanwifi').then(function (response) {\n        // eslint-disable-next-line\n        console.log(response.data);\n        return response.data;\n      }).then(function (data) {\n        _this2.networks = data.networks;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAuBA;AACA;EACAA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IAAA;EAAA;EACAC;IACAC;MAAA;MACA;QACA;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;YACA;cAAAC;cAAAC;YAAA;YACA;UACA;QACA;MACA;QACA;UACAP;UACAG;UACAC;UACAF;UACAD;UACAO;YACAC;UACA;UACAC;UACAL;YACA;YACA;cAAAC;cAAAC;YAAA;YACA;UACA;QACA;MACA;IACA;IACAI;MACA;MACAC;MACAC;MACA;IACA;IACAC;MAAA;MACAD;QACA;QACAD;QACA;MACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","networks","created","methods","prompt","message","cancelText","confirmText","type","size","onConfirm","ssid","password","inputAttrs","placeholder","trapFocus","saveNetwork","console","axios","startscan"],"sourceRoot":"src/components","sources":["Wifi.vue"],"sourcesContent":["<template>\n  <div>\n    <b-button type=\"is-info\" @click=\"startscan\">Scan</b-button>\n    <nav class=\"panel is-info\">\n\n<p class=\"panel-heading is-size-6\" v-show=\"networks.length == 0\">\n      Выполняется сканирование WI-FI сетей\n    </p>\n      <p class=\"panel-heading is-size-6\" v-show=\"networks.length > 0\">\n        Доступные сети\n      </p>\n      <a class=\"panel-block is-active\" v-for=\"network in networks\" :key=\"network.ssid\" @click=\"prompt(network)\">\n        <span class=\"panel-icon\">\n          <i class=\"fas fa-book\" aria-hidden=\"true\"></i>\n        </span>\n        {{ network.ssid }}\n      </a>\n    </nav>\n  </div>\n</template>\n\n<script>\n\nimport axios from 'axios'\nexport default {\n  name: 'RotatorWifi',\n  data () {\n    return {\n      networks: []\n    }\n  },\n  created () { this.startscan() },\n  methods: {\n    prompt (network) {\n      if (network.open) {\n        this.$buefy.dialog.confirm({\n          message: `Подключиться к сети ${network.ssid}?`,\n          cancelText: 'Отмена',\n          confirmText: 'Подключиться',\n          type: 'is-info',\n          size: 'is-small',\n          onConfirm: () => {\n            const connection = { ssid: network.ssid, password: '' }\n            this.saveNetwork(connection)\n          }\n        })\n      } else {\n        this.$buefy.dialog.prompt({\n          message: `Подключение к сети ${network.ssid} <br> Пароль:`,\n          type: 'is-info',\n          size: 'is-small',\n          confirmText: 'Подключиться',\n          cancelText: 'Отмена',\n          inputAttrs: {\n            placeholder: ''\n          },\n          trapFocus: true,\n          onConfirm: (password) => {\n            // this.$buefy.toast.open(`Вы подключены к сети: ${value}`);\n            const connection = { ssid: network.ssid, password: password }\n            this.saveNetwork(connection)\n          }\n        })\n      }\n    },\n    saveNetwork (connection) {\n      // eslint-disable-next-line\n      console.log(connection);\n      axios.get(`api/connect?ssid=${connection.ssid}&password=${connection.password}`)\n      this.$buefy.toast.open('Ок')\n    },\n    startscan () {\n      axios.get('api/scanwifi').then((response) => {\n        // eslint-disable-next-line\n        console.log(response.data)\n        return response.data\n      }).then((data) => {\n        this.networks = data.networks\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"]},"metadata":{},"sourceType":"module"}
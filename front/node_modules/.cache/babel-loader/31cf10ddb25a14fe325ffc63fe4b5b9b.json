{"ast":null,"code":"import { mdiSend, mdiArrowDownDropCircleOutline } from '@mdi/js';\n// eslint-disable-next-line\nimport { bus } from '@/event-bus';\nexport default {\n  name: 'RotatorDataset',\n  data() {\n    return {\n      mdiSend,\n      mdiArrowDownDropCircleOutline,\n      iconarrow: '',\n      is_admin: 0,\n      azimut: 0,\n      elevation: 0,\n      home_lat: 0,\n      home_long: 0,\n      home_height: 0,\n      sat_lat: 0,\n      sat_long: 0,\n      sat_height: 0,\n      list: ['GPS_CALC', 'UART', 'GPS+UART'],\n      data: [{\n        id: 0,\n        name: 'GPS_CALC'\n      }, {\n        id: 1,\n        name: 'UART'\n      }, {\n        id: 2,\n        name: 'GPS+UART'\n      }],\n      selectedOption: 1\n    };\n  },\n  watch: {\n    selectedOption(value) {\n      this.$ajax.get(`api/mode?mode=${value}&key=${localStorage.getItem('rotator_client_id')}`);\n    }\n  },\n  created() {\n    bus.$on('is_admin', val => {\n      this.is_admin = val;\n    });\n    bus.$emit('get_admin');\n  },\n  methods: {\n    sendangles() {\n      this.sendpostdata();\n    },\n    /*angles () {\n      bus.$emit('send_ws', 'ANGLES;' + this.azimut.replace(',', '.') + ';' + this.elevation.replace(',', '.') + ';')\n    },\n    coords () {\n      bus.$emit('send_ws', 'COORDS;' + this.home_lat.replace(',', '.') + ';' + this.home_long.replace(',', '.') + ';' + this.home_height.replace(',', '.') + ';' + this.sat_lat.replace(',', '.') + ';' + this.sat_long.replace(',', '.') + ';' + this.sat_height.replace(',', '.') + ';')\n    },*/\n    sendpostdata: function () {\n      this.$ajax.post('/api/v1/data/set/angles', {\n        key: localStorage.getItem('rotator_client_id'),\n        azimuth: Number(100 * this.azimut),\n        elevation: Number(100 * this.elevation)\n      }).then(data => {\n        console.log(data);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAwEA;AACA;AACA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAb;QAAAc;QAAAf;MAAA;QAAAe;QAAAf;MAAA;QAAAe;QAAAf;MAAA;MACAgB;IACA;EACA;EACAC;IACAD;MACA;IACA;EACA;EACAE;IACAC;MAAA;IAAA;IACAA;EACA;EACAC;IACAC;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA,WACAC;QACAC;QACAC;QACAlB;MACA,GACAmB;QACAC;MACA,GACAC;QACAD;MACA;IACA;EACA;AACA","names":["name","data","mdiSend","mdiArrowDownDropCircleOutline","iconarrow","is_admin","azimut","elevation","home_lat","home_long","home_height","sat_lat","sat_long","sat_height","list","id","selectedOption","watch","created","bus","methods","sendangles","sendpostdata","post","key","azimuth","then","console","catch"],"sourceRoot":"src/components","sources":["RotatorDataset.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"is_admin==0\">\n      AUTH NEDED\n    </div>\n    <div v-if=\"is_admin==1\">\n      <!--<v-select :items=\"list\" :appendIcon=\"iconarrow\" v-model=\"selectedOption\" style=\"width:30%;\"></v-select>-->\n      <v-layout text-xs-center wrap>\n        <v-card width=\"300px\" flat>\n          <v-container>\n            <p class=\"text-center \">\n              Углы\n            </p>\n            <v-text-field label=\"Азимут\" v-model=\"azimut\" type=\"number\" @keyup.enter.exact=\"sendangles\"/>\n            <v-text-field label=\"Элевация\" v-model=\"elevation\" type=\"number\"  @keyup.enter.exact=\"sendangles\"/>\n          </v-container>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn tile color=\"success\" @click=\"sendpostdata\">\n              Отправить\n              &nbsp;\n              <MdiSvg>{{mdiSend }}</MdiSvg>\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n        <div class=\"d-inline pa-2 white\">\n        </div>\n        <v-card width=\"300px\" flat>\n          <p class=\"text-center \">\n            Координаты спутника\n          </p>\n          <v-container>\n            <v-text-field label=\"Широта\" v-model=\"sat_lat\" type=\"number\" />\n            <v-text-field label=\"Долгота\" v-model=\"sat_long\" type=\"number\" />\n            <v-text-field label=\"Высота\" v-model=\"sat_height\" type=\"number\" />\n          </v-container>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn tile color=\"success\">\n              Отправить\n              &nbsp;\n              <MdiSvg>{{mdiSend }}</MdiSvg>\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n        <div class=\"d-inline pa-2 white\">\n        </div>\n        <v-card width=\"300px\" flat>\n          <p class=\"text-center \">\n            Координаты поворотки\n          </p>\n          <v-container>\n            <v-text-field label=\"Широта\" v-model=\"home_lat\" type=\"number\" />\n            <v-text-field label=\"Долгота\" v-model=\"home_long\" type=\"number\" />\n            <v-text-field label=\"HomeHeight\" v-model=\"home_height\" type=\"number\" />\n          </v-container>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn tile color=\"success\">\n\n              Отправить\n              &nbsp;\n              <MdiSvg>{{mdiSend }}</MdiSvg>\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-layout>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mdiSend, mdiArrowDownDropCircleOutline } from '@mdi/js'\n// eslint-disable-next-line\nimport { bus } from '@/event-bus'\nexport default {\n  name: 'RotatorDataset',\n  data () {\n    return {\n      mdiSend,\n      mdiArrowDownDropCircleOutline,\n      iconarrow: '',\n      is_admin: 0,\n      azimut: 0,\n      elevation: 0,\n      home_lat: 0,\n      home_long: 0,\n      home_height: 0,\n      sat_lat: 0,\n      sat_long: 0,\n      sat_height: 0,\n      list: ['GPS_CALC', 'UART', 'GPS+UART'],\n      data: [{ id: 0, name: 'GPS_CALC' }, { id: 1, name: 'UART' }, { id: 2, name: 'GPS+UART' }],\n      selectedOption: 1\n    }\n  },\n  watch: {\n    selectedOption (value) {\n      this.$ajax.get(`api/mode?mode=${value}&key=${localStorage.getItem('rotator_client_id')}`)\n    }\n  },\n  created () {\n    bus.$on('is_admin', (val) => { this.is_admin = val })\n    bus.$emit('get_admin')\n  },\n  methods: {\n    sendangles(){\n      this.sendpostdata();\n    },\n    /*angles () {\n      bus.$emit('send_ws', 'ANGLES;' + this.azimut.replace(',', '.') + ';' + this.elevation.replace(',', '.') + ';')\n    },\n    coords () {\n      bus.$emit('send_ws', 'COORDS;' + this.home_lat.replace(',', '.') + ';' + this.home_long.replace(',', '.') + ';' + this.home_height.replace(',', '.') + ';' + this.sat_lat.replace(',', '.') + ';' + this.sat_long.replace(',', '.') + ';' + this.sat_height.replace(',', '.') + ';')\n    },*/\n    sendpostdata: function () {\n      this.$ajax\n        .post('/api/v1/data/set/angles', {\n          key: localStorage.getItem('rotator_client_id'),\n          azimuth: Number(100*this.azimut),\n          elevation: Number(100*this.elevation)\n        })\n        .then(data => {\n          console.log(data)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}